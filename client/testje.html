<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>testje</title>
	<meta name="generator" content="Studio 3 http://aptana.com/">
	<meta name="author" content="Chielus">
	<!-- Date: 2011-03-07 -->
	<script type="text/javascript">
	(function (){
	    var S = {
            user: function(userid){
                return new User(userid);
            },
            item: function(itemid){
                return new Item(itemid);
            }
        };
        S.is = function(o, type){
            type = type.toLowerCase();
            return  (type == "null" && o === null) ||
                (type == "id" && (typeof o == "number" || typeof o == "string")) ||
                (type == typeof o) ||
                (type == "object" && o === Object(o)) ||
                (type == "array" && Array.isArray && Array.isArray(o));
        };
	    function User(userid){
	        if(S.is(userid,"id")){
                this.userid = userid;
            } else{
                this.userid = "guest";
            }
	    }
	    User.prototype.url = "userUrl";
	    function Item(itemid){
            if(S.is(itemid,"id")){
                this.itemid = itemid;
            } else{
                this.itemid = "guest";
            }
        }
	   User.prototype.meta = function(obj){
           if(!S.is(obj.id,"id")){
               obj.id = this.userid;
           }
           
           console.log(this.url);
           console.log(obj);
       };
       //S.user.meta = User.prototype.meta;
       S.user.meta = function(obj){
           User.prototype.meta.apply(User.prototype,[obj]);
       };
       
       S.user.meta({id: "bfeza",t: 1});
       
       var loggedIn = S.user("blabla");
       loggedIn.meta({t: 2});

	   /*var loggedInUser = user("tester");
	   loggedInUser.hello();
	   loggedInUser.hello2();
	   
	   user("temp").hello();*/
    })();
	</script>
</head>
<body>

</body>
</html>
